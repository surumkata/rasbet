{% load static %}
<!DOCTYPE html>

<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" type="text/css" href="{% static 'fonts.css' %}"/>
<link rel="stylesheet" type="text/css" href="{% static 'header.css' %}"/>
<link rel="stylesheet" type="text/css" href="{% static 'display.css' %}"/>
<link rel="stylesheet" type="text/css" href="{% static 'scrollbar.css' %}"/>
<link rel="stylesheet" type="text/css" href="{% static 'history.css' %}"/>
{% csrf_token %}
<title> Histórico de Transações </title>
</head>

<body>
    <div class="header">
      <div class="header-left">
        <div class="tab"><a class="img" href="/" ><img src="{% static 'logo.png' %}" alt="Rasbet Logo"></a></div>
        <div class="tab"><a href="/">Desporto</a></div>
        <div class="tab"><a href="/accounts/promotions">Promoções</a></div>
        <div class="tab"><a class="active" href="/accounts/profile">{{ fname }}</a></div>
        <div class="tab_balance">{{ balance | floatformat:2 }}€<a href="/accounts/deposit">+</a></div>
      </div>
      <div class="header-right">
        <div class="language">
          <select class="change_language" original-value="{{language}}" value="{{language}}" onchange="change_language(this)">
            <optgroup>
              <option selected disabled hidden  value="{{language}}">{{language|upper}}</option>
              <option value="en">EN</option>
              <option value="pt">PT</option>
            </optgroup>
          </select>
        </div>
        <div class="tab"><a href="/accounts/logout">Logout</a></div>
      </div>
    </div>
    <div class="container">
      <div class="statistics">
        <div><h2>Estatísticas</h2></div>
        <div class="statistics-side">
          <div class="statistics-side3">
            <p>Total depositado: <b>{{statistics.deposit | floatformat:2}} €</b></p>
          </div>
          <div class="statistics-side3">
            <p>Total levantado: <b>{{statistics.withdraw | floatformat:2}} €</b></p>
          </div>
          <div class="statistics-side3">
            <p>Total de apostas: <b>{{statistics.bet_spend | floatformat:2}} €</b></p>
          </div>
          <div class="statistics-side4">
            <p>Total ganho: <b>{{statistics.bet_gains| floatformat:2}} €</b></p>
          </div>
        </div>
        <div><h3>Todas as Apostas</h3></div>
        <div class="statistics-side">
          <div class="statistics-side5">
            <p>Apostas: <b>{{statistics.bets}}</b></p>
          </div>
          <div class="statistics-side5">
            <p>Apostas em espera: <b>{{statistics.standby_bets}}</b></p>
          </div>
          <div class="statistics-side5">
            <p>Apostas ganhas: <b>{{statistics.won_bets}}</b></p>
          </div>
          <div class="statistics-side5">
            <p>Apostas perdidas: <b>{{statistics.lost_bets}}</b></p>
          </div>
          <div class="statistics-side5">
            <p>Percentagem de vitória: <b>{{statistics.win_rate|floatformat:2}}%</b></p>
          </div>
        </div>
        <div><h3>Apostas simples</h3></div>
        <div class="statistics-side">
          <div class="statistics-side4">
            <p>Apostas: <b>{{statistics.simple_bets}}</b></p>
          </div>
          <div class="statistics-side4">
            <p>Apostas ganhas: <b>{{statistics.won_simple_bets}}</b></p>
          </div>
          <div class="statistics-side4">
            <p>Apostas perdidas: <b>{{statistics.lost_simple_bets}}</b></p>
          </div>
          <div class="statistics-side4">
            <p>Percentagem de vitória: <b>{{statistics.win_rate_simple|floatformat:2}}%</b></p>
          </div>
        </div>
        <div><h3>Apostas múltiplas</h3></div>
        <div class="statistics-side">
          <div class="statistics-side4">
            <p>Apostas: <b>{{statistics.multiple_bets}}</b></p>
          </div>
          <div class="statistics-side4">
            <p>Apostas ganhas: <b>{{statistics.won_multiple_bets}}</b></p>
          </div>
          <div class="statistics-side4">
            <p>Apostas perdidas: <b>{{statistics.lost_multiple_bets}}</b></p>
          </div>
          <div class="statistics-side4">
            <p>Percentagem de vitória: <b>{{statistics.win_rate_multiple|floatformat:2}}%</b></p>
          </div>
        </div>        
      </div>
      <div class="transactions">
        <div><h2>Transações</h2></div>
        <table>
          <tr>
            <th>Operação</th>
            <th>Quantia</th>
            <th>Método</th>
            <th>Data</th>
          </tr>
          {%for t in transactions%}
          <tr>
            <td>{{t.type}}</td>
            <td>{{t.amount|floatformat:2}} €</td>
            <td>{{t.method}}</td>
            <td>{{t.date|date:"d/m/Y H:m\H"}}</td>
          </tr>
          {%endfor%}
        </table>
      </div>
    </div>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <script src="{% static 'cookies.js' %}"></script>
 </body>
 </html>